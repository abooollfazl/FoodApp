<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                          x:Class="FoodApp.Views.Programmer.ManageUsersPage"
                                       Title="مدیریت کاربران"
                                                    FlowDirection="RightToLeft">

                                                        <Grid RowDefinitions="*,Auto">
                                                                
                                                                        <CollectionView Grid.Row="0" x:Name="UsersCollection" Margin="20">
                                                                                    <CollectionView.ItemTemplate>
                                                                                                    <DataTemplate>
                                                                                                                        <Border Padding="15" Margin="0,10">
                                                                                                                                                <Grid ColumnDefinitions="*,Auto,Auto">
                                                                                                                                                                            <VerticalStackLayout Grid.Column="0">
                                                                                                                                                                                                            <Label Text="{Binding Name}" FontAttributes="Bold"/>
                                                                                                                                                                                                                                            <Label Text="{Binding Username}" FontSize="12" TextColor="Gray"/>
                                                                                                                                                                                                                                                                            <Label Text="{Binding Role}" FontSize="12" TextColor="Blue"/>
                                                                                                                                                                                                                                                                                                        </VerticalStackLayout>
                                                                                                                                                                                                                                                                                                                                    <Button Grid.Column="1" 
                                                                                                                                                                                                                                                                                                                                                                        Text="ویرایش" 
                                                                                                                                                                                                                                                                                                                                                                                                            CommandParameter="{Binding .}"
                                                                                                                                                                                                                                                                                                                                                                                                                                                Clicked="OnEditClicked"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Margin="5,0"/>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <Button Grid.Column="2" 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Text="حذف" 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        CommandParameter="{Binding .}"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Clicked="OnDeleteClicked"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                BackgroundColor="Red"/>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </Grid>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </Border>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </DataTemplate>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </CollectionView.ItemTemplate>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </CollectionView>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <Button Grid.Row="1" 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Text="کاربر جدید" 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Clicked="OnAddUserClicked"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Margin="20"/>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </Grid>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ContentPage>